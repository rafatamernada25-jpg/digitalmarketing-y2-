<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson | Event-Driven Logic</title>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-pink: #ec4899;
            --bg: #030014;
            --card-bg: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.1);
            --code-bg: #ffffff;
            --code-text: #1e293b;
            --success: #10b981;
            --error: #ef4444;
        }

        body {
            margin: 0; padding: 0;
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-color: var(--bg);
            color: #fff;
            display: flex; flex-direction: column; align-items: center;
            min-height: 100vh;
        }

        /* HEADER & TITRE ANIME */
        header { text-align: center; padding: 40px 5%; width: 100%; }
        
        h1 { 
            font-size: 3.5rem; 
            margin: 20px 0; 
            font-weight: 800; 
            letter-spacing: -2px; 
            text-transform: uppercase;
            background: linear-gradient(to right, #ffffff 20%, var(--primary-pink) 40%, #ff80b5 60%, #ffffff 80%);
            background-size: 200% auto;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: shine 4s linear infinite;
            filter: drop-shadow(0 0 15px rgba(236, 72, 153, 0.4));
        }

        @keyframes shine { to { background-position: 200% center; } }

        .summary-box {
            max-width: 800px; margin: 20px auto; 
            background: rgba(236, 72, 153, 0.05); 
            border-left: 4px solid var(--primary-pink); 
            padding: 20px; border-radius: 0 15px 15px 0; text-align: left;
        }

        /* NAVIGATION */
        .top-nav { width: 100%; padding: 40px 5%; display: flex; align-items: center; }
        .back-btn { background: rgba(255,255,255,0.1); padding: 10px 20px; border-radius: 50px; text-decoration: none; color: #fff; font-size: 0.8rem; font-weight: 800; border: 1px solid var(--border); transition: 0.3s; }
        .back-btn:hover { background: var(--primary-pink); border-color: var(--primary-pink); }
        
        .stepper { display: flex; justify-content: center; gap: 30px; margin-bottom: 50px; flex-wrap: wrap; }
        .step { cursor: pointer; display: flex; flex-direction: column; align-items: center; transition: 0.3s; }
        .circle {
            width: 45px; height: 45px; border-radius: 50%;
            border: 2px solid #334155; display: flex; align-items: center; justify-content: center;
            font-weight: 800; margin-bottom: 10px; background: #000;
        }
        .step.active .circle { border-color: var(--primary-pink); background: var(--primary-pink); box-shadow: 0 0 20px rgba(236, 72, 153, 0.4); }
        .step-label { font-size: 0.65rem; font-weight: 800; text-transform: uppercase; color: #64748b; }
        .step.active .step-label { color: #fff; }

        /* CONTENU */
        .content-container { width: 90%; max-width: 900px; min-height: 400px; padding-bottom: 100px; }
        .content-panel { display: none; animation: fadeIn 0.5s ease-out; }
        .content-panel.active { display: block; }

        /* CODE & CARDS */
        .code-window { background: var(--code-bg); border-radius: 12px; margin: 15px 0 30px 0; border: 1px solid #e2e8f0; overflow: hidden; }
        .code-content { padding: 20px; font-family: 'Consolas', monospace; color: var(--code-text); font-size: 0.9rem; white-space: pre-wrap; }
        .bp-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 30px; }
        .bp-card { background: var(--card-bg); padding: 20px; border-radius: 15px; border: 1px solid var(--border); font-size: 0.9rem; }
        .bp-card strong { color: var(--primary-pink); display: block; margin-bottom: 5px; }

        /* QUIZ STYLES */
        .quiz-container { background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 20px; padding: 30px; }
        .question-card { margin-bottom: 40px; border-bottom: 1px solid var(--border); padding-bottom: 20px; }
        .question-text { font-size: 1.1rem; font-weight: 600; margin-bottom: 15px; color: #fff; }
        .options-list { display: flex; flex-direction: column; gap: 10px; }
        .option-btn { 
            background: rgba(255,255,255,0.05); border: 1px solid var(--border); 
            padding: 12px 20px; border-radius: 10px; color: #cbd5e1; cursor: pointer; 
            text-align: left; transition: 0.2s; 
        }
        .option-btn:hover { background: rgba(255,255,255,0.1); }
        .option-btn.selected { border-color: var(--primary-pink); background: rgba(236, 72, 153, 0.1); }
        
        .hint-btn { background: none; border: none; color: var(--primary-pink); font-size: 0.8rem; cursor: pointer; margin-top: 10px; text-decoration: underline; }
        .hint-text { display: none; font-size: 0.85rem; color: #94a3b8; margin-top: 5px; font-style: italic; }

        .submit-quiz { 
            width: 100%; padding: 20px; background: var(--primary-pink); 
            color: #fff; border: none; border-radius: 12px; font-weight: 800; 
            cursor: pointer; margin-top: 20px; font-size: 1rem;
        }

        .result-area { display: none; margin-top: 30px; padding: 20px; border-radius: 12px; text-align: center; font-size: 1.2rem; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

<div class="top-nav">
    <a href="frontend.html" class="back-btn">√ó Back to Syllabus</a>
</div>

<header>
    <h1><span style="opacity: 0.5; font-weight: 400; font-size: 2.5rem;">LESSON /</span> EVENT-DRIVEN LOGIC</h1>
</header>

<div class="stepper">
    <div class="step active" onclick="showStep(1, this)"><div class="circle">1</div><div class="step-label">Concept</div></div>
    <div class="step" onclick="showStep(2, this)"><div class="circle">2</div><div class="step-label">Engine</div></div>
    <div class="step" onclick="showStep(3, this)"><div class="circle">3</div><div class="step-label">Promises</div></div>
    <div class="step" onclick="showStep(4, this)"><div class="circle">4</div><div class="step-label">Async/Await</div></div>
    <div class="step" onclick="showStep(5, this)"><div class="circle">5</div><div class="step-label">Summary</div></div>
    <div class="step" onclick="showStep(6, this)"><div class="circle">6</div><div class="step-label">QUIZ</div></div>
</div>

<div class="content-container">
    
   <div class="content-panel active" id="step1">
        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 30px;">
            <div style="background: var(--primary-pink); width: 5px; height: 40px; border-radius: 10px;"></div>
            <h2 style="margin: 0; font-size: 2rem; letter-spacing: -1px;">The Execution Crisis</h2>
        </div>

        <p class="desc-text" style="color: #cbd5e1;">
            To understand modern development, we must first look at the default behavior of code: <strong>Synchronous execution.</strong> The main problem is how we handle time-consuming tasks.
        </p>

        

        <div class="bp-grid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 25px; margin-top: 40px;">
            
            <div class="bp-card" style="border-top: 4px solid var(--error); background: rgba(239, 68, 68, 0.05);">
                <div style="display: flex; justify-content: space-between; align-items: start;">
                    <strong style="color: var(--error); font-size: 1.2rem;">Synchronous (Blocking)</strong>
                    <span style="font-size: 1.5rem;">üö´</span>
                </div>
                <p style="color: #e2e8f0; margin-top: 15px; line-height: 1.6;">
                    Code executes <strong>line-by-line</strong>. If one line takes 5 seconds (e.g., a network request), the entire program <strong>stops (blocks)</strong>. 
                </p>
                <ul style="color: #94a3b8; padding-left: 20px; font-size: 0.85rem;">
                    <li>No UI updates possible</li>
                    <li>Button clicks are ignored</li>
                    <li>User experience "freezes"</li>
                </ul>
            </div>

            <div class="bp-card" style="border-top: 4px solid var(--success); background: rgba(16, 185, 129, 0.05);">
                <div style="display: flex; justify-content: space-between; align-items: start;">
                    <strong style="color: var(--success); font-size: 1.2rem;">Asynchronous (Non-Blocking)</strong>
                    <span style="font-size: 1.5rem;">‚ö°</span>
                </div>
                <p style="color: #e2e8f0; margin-top: 15px; line-height: 1.6;">
                    The program initiates a heavy task and <strong>immediately moves</strong> to the next line. It doesn't wait.
                </p>
                <ul style="color: #94a3b8; padding-left: 20px; font-size: 0.85rem;">
                    <li>Smooth UI interactions</li>
                    <li>Background processing</li>
                    <li>High-performance response</li>
                </ul>
            </div>

        </div>

        <div style="margin-top: 40px; padding: 20px; background: rgba(255,255,255,0.03); border-radius: 15px; border: 1px dashed var(--border);">
            <p style="margin: 0; font-size: 0.95rem; color: #94a3b8; text-align: center;">
                <span style="color: var(--primary-pink);">Pro Tip:</span> In 2026, a blocking UI is considered a critical failure in Web Performance.
            </p>
        </div>
    </div>
    
<div class="content-panel" id="step2">
        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 30px;">
            <div style="background: var(--primary-pink); width: 5px; height: 40px; border-radius: 10px;"></div>
            <h2 style="margin: 0; font-size: 2rem; letter-spacing: -1px;">The Event Loop Engine</h2>
        </div>

        <p class="desc-text" style="color: #cbd5e1;">
            JavaScript is <strong>single-threaded</strong>, meaning it can only do one thing at a time. The Event Loop is the secret mechanism that allows it to handle multiple tasks simultaneously without crashing.
        </p>

        

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-top: 30px;">
            
            <div class="bp-card" style="border-left: 4px solid #60a5fa; background: rgba(96, 165, 250, 0.05);">
                <strong style="color: #60a5fa;">1. Call Stack</strong>
                <p style="font-size: 0.9rem; color: #e2e8f0;">Where your code actually runs line-by-line. If a function is called, it's pushed here.</p>
            </div>

            <div class="bp-card" style="border-left: 4px solid #a78bfa; background: rgba(167, 139, 250, 0.05);">
                <strong style="color: #a78bfa;">2. Web APIs</strong>
                <p style="font-size: 0.9rem; color: #e2e8f0;">Where heavy tasks (like <code>fetch</code> or <code>timers</code>) are processed outside the main thread.</p>
            </div>

            <div class="bp-card" style="border-left: 4px solid #fbbf24; background: rgba(251, 191, 36, 0.05);">
                <strong style="color: #fbbf24;">3. Callback Queue</strong>
                <p style="font-size: 0.9rem; color: #e2e8f0;">Once an async task finishes, its result waits here in a line to be executed.</p>
            </div>

            <div class="bp-card" style="border-left: 4px solid var(--primary-pink); background: rgba(236, 72, 153, 0.05);">
                <strong style="color: var(--primary-pink);">4. The Event Loop</strong>
                <p style="font-size: 0.9rem; color: #e2e8f0;">The "Traffic Controller". It checks if the Stack is empty and moves tasks from the Queue to the Stack.</p>
            </div>

        </div>

        <div style="margin-top: 40px; padding: 25px; background: linear-gradient(135deg, rgba(236, 72, 153, 0.1), rgba(15, 23, 42, 0.5)); border-radius: 20px; border: 1px solid var(--border); text-align: center;">
            <p style="margin: 0; font-weight: 600; color: #fff; font-size: 1.1rem;">
                üîÑ How it works:
            </p>
            <p style="color: #94a3b8; font-size: 0.95rem; margin-top: 10px;">
                Stack is Empty? <span style="color: var(--success);">YES</span> ‚Æï Move item from Queue ‚Æï Run Code. <br>
                This cycle repeats infinitely, ensuring a smooth and responsive application.
            </p>
        </div>
    </div>    
<div class="content-panel" id="step3">
        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 30px;">
            <div style="background: var(--primary-pink); width: 5px; height: 40px; border-radius: 10px;"></div>
            <h2 style="margin: 0; font-size: 2rem; letter-spacing: -1px;">The 3 Phases of a Promise</h2>
        </div>

        <p class="desc-text" style="color: #cbd5e1;">
            A <strong>Promise</strong> is an object representing the eventual completion of an asynchronous operation. It acts as a placeholder for a future value.
        </p>

        <p style="color: var(--primary-pink); font-size: 0.9rem; margin-bottom: 20px; font-weight: 600;">
            üëâ Click on each phase to reveal the JavaScript implementation:
        </p>

        <div class="bp-card" style="margin-bottom: 15px; cursor: pointer; transition: 0.3s;" onclick="toggleCode('code-pending')">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <strong style="color: #fbbf24;">Phase 1: Pending</strong>
                    <span style="color: #94a3b8; font-size: 0.85rem;">Initial state - Operation in progress.</span>
                </div>
                <span style="color: #fbbf24; font-size: 1.2rem;">‚è≥</span>
            </div>
            <div id="code-pending" style="display: none; margin-top: 20px; animation: fadeIn 0.4s;">
                <span class="code-title" style="color: #1e293b; font-size: 0.7rem; background: #fbbf24; padding: 2px 8px; border-radius: 4px;">JS EXAMPLE</span>
                <div class="code-window" style="margin-top: 10px;">
                    <div class="code-content">
const request = new Promise((resolve, reject) => {
    // The promise is currently in PENDING state
    console.log("Fetching data...");
});</div>
                </div>
            </div>
        </div>

        <div class="bp-card" style="margin-bottom: 15px; cursor: pointer; transition: 0.3s;" onclick="toggleCode('code-fulfilled')">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <strong style="color: var(--success);">Phase 2: Fulfilled (Resolved)</strong>
                    <span style="color: #94a3b8; font-size: 0.85rem;">Success - The operation finished perfectly.</span>
                </div>
                <span style="color: var(--success); font-size: 1.2rem;">‚úÖ</span>
            </div>
            <div id="code-fulfilled" style="display: none; margin-top: 20px; animation: fadeIn 0.4s;">
                <span class="code-title" style="color: #fff; font-size: 0.7rem; background: var(--success); padding: 2px 8px; border-radius: 4px;">JS EXAMPLE</span>
                <div class="code-window" style="margin-top: 10px;">
                    <div class="code-content">
const request = new Promise((resolve, reject) => {
    resolve("Data received successfully!"); 
});

request.then(data => console.log(data)); // Handles success</div>
                </div>
            </div>
        </div>

        <div class="bp-card" style="margin-bottom: 15px; cursor: pointer; transition: 0.3s;" onclick="toggleCode('code-rejected')">
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    <strong style="color: var(--error);">Phase 3: Rejected</strong>
                    <span style="color: #94a3b8; font-size: 0.85rem;">Failure - Something went wrong (e.g. 404 error).</span>
                </div>
                <span style="color: var(--error); font-size: 1.2rem;">‚ùå</span>
            </div>
            <div id="code-rejected" style="display: none; margin-top: 20px; animation: fadeIn 0.4s;">
                <span class="code-title" style="color: #fff; font-size: 0.7rem; background: var(--error); padding: 2px 8px; border-radius: 4px;">JS EXAMPLE</span>
                <div class="code-window" style="margin-top: 10px;">
                    <div class="code-content">
const request = new Promise((resolve, reject) => {
    reject("Error: Server not found."); 
});

request.catch(error => console.error(error)); // Handles failure</div>
                </div>
            </div>
        </div>

        <div style="margin-top: 30px; text-align: center;">
        </div>
    </div>

    <script>
        function toggleCode(id) {
            const element = document.getElementById(id);
            if (element.style.display === "none") {
                element.style.display = "block";
            } else {
                element.style.display = "none";
            }
        }
    </script>   
<div class="content-panel" id="step4">
        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 30px;">
            <div style="background: var(--primary-pink); width: 5px; height: 40px; border-radius: 10px;"></div>
            <h2 style="margin: 0; font-size: 2rem; letter-spacing: -1px;">Practical Example: Fetching Data</h2>
        </div>

        <p class="desc-text" style="color: #cbd5e1;">
            Let's look at a realistic scenario: <strong>Fetching User Data</strong> from a remote API. This is the most common use case for asynchronous programming.
        </p>

        <div style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 15px; display: flex; gap: 10px; margin-bottom: 30px; border: 1px solid var(--border);">
            <button id="btn-opt-a" onclick="switchOption('A')" style="flex: 1; padding: 12px; border: none; border-radius: 10px; cursor: pointer; font-weight: 800; transition: 0.3s; background: var(--primary-pink); color: white;">OPTION A: Promises</button>
            <button id="btn-opt-b" onclick="switchOption('B')" style="flex: 1; padding: 12px; border: none; border-radius: 10px; cursor: pointer; font-weight: 800; transition: 0.3s; background: transparent; color: #94a3b8;">OPTION B: Async / Await</button>
        </div>

        <div id="content-opt-a" style="display: block; animation: fadeIn 0.5s;">
            <div class="bp-card" style="border-left: 4px solid #60a5fa;">
                <strong style="color: #60a5fa;">Traditional Approach</strong>
                <p style="font-size: 0.9rem; color: #cbd5e1; margin-bottom: 20px;">Uses <code>.then()</code> chains to handle the sequence of operations. It's powerful but can become messy with many steps.</p>
                <div class="code-window">
                    <div class="code-content">
fetch('https://api.example.com/user')
    .then(response => response.json())
    .then(user => {
        console.log("User Name:", user.name);
    })
    .catch(err => {
        console.error("Fetch error:", err);
    });</div>
                </div>
            </div>
        </div>

        <div id="content-opt-b" style="display: none; animation: fadeIn 0.5s;">
            <div class="bp-card" style="border-left: 4px solid var(--success);">
                <strong style="color: var(--success);">Modern Standard (Recommended)</strong>
                <p style="font-size: 0.9rem; color: #cbd5e1; margin-bottom: 20px;">Note how this clearly outlines the steps: "Wait for fetch, then wait for conversion, then log it." It reads like a book.</p>
                <div class="code-window">
                    <div class="code-content">
async function getUser() {
    try {
        const response = await fetch('https://api.example.com/user');
        const user = await response.json();
        console.log("User Name:", user.name);
    } catch (err) {
        console.error("Error fetching user:", err);
    }
}

getUser();</div>
                </div>
            </div>
        </div>

        <div style="margin-top: 40px; padding: 25px; background: rgba(255, 255, 255, 0.02); border-radius: 20px; border: 1px solid var(--border);">
            <h3 style="color: #fff; margin-top: 0; font-size: 1.1rem;">üí° Key Takeaway</h3>
            <p style="color: #94a3b8; font-size: 0.95rem; line-height: 1.6; margin-bottom: 0;">
                Event-Driven Programming allows applications to remain <strong>responsive</strong> by offloading long tasks to the background. 
                While Promises replace messy callbacks, <strong>Async/Await</strong> offers the cleanest syntax for writing maintainable code.
            </p>
        </div>
    </div>

    <script>
        function switchOption(type) {
            const btnA = document.getElementById('btn-opt-a');
            const btnB = document.getElementById('btn-opt-b');
            const contentA = document.getElementById('content-opt-a');
            const contentB = document.getElementById('content-opt-b');

            if (type === 'A') {
                btnA.style.background = 'var(--primary-pink)';
                btnA.style.color = 'white';
                btnB.style.background = 'transparent';
                btnB.style.color = '#94a3b8';
                contentA.style.display = 'block';
                contentB.style.display = 'none';
            } else {
                btnB.style.background = 'var(--primary-pink)';
                btnB.style.color = 'white';
                btnA.style.background = 'transparent';
                btnA.style.color = '#94a3b8';
                contentB.style.display = 'block';
                contentA.style.display = 'none';
            }
        }
    </script>

    <div class="content-panel" id="step5">
        <div style="display: flex; align-items: center; gap: 20px; margin-bottom: 40px;">
            <div style="background: #fff; width: 5px; height: 40px; border-radius: 10px;"></div>
            <h2 style="margin: 0; font-size: 2rem; letter-spacing: -1px; text-transform: uppercase;">Final Summary</h2>
        </div>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            
            <div style="background: linear-gradient(135deg, rgba(236, 72, 153, 0.1), transparent); padding: 25px; border-radius: 20px; border: 1px solid var(--border);">
                <span style="font-size: 2rem;">üöÄ</span>
                <h3 style="color: var(--primary-pink); margin: 15px 0 10px 0;">Responsiveness</h3>
                <p style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.5; margin: 0;">Offloading long tasks keeps the main thread free, ensuring your app never freezes.</p>
            </div>

            <div style="background: linear-gradient(135deg, rgba(96, 165, 250, 0.1), transparent); padding: 25px; border-radius: 20px; border: 1px solid rgba(96, 165, 250, 0.2);">
                <span style="font-size: 2rem;">üîÑ</span>
                <h3 style="color: #60a5fa; margin: 15px 0 10px 0;">The Event Loop</h3>
                <p style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.5; margin: 0;">The engine that coordinates execution, moving tasks from the queue to the stack.</p>
            </div>

            <div style="background: linear-gradient(135deg, rgba(251, 191, 36, 0.1), transparent); padding: 25px; border-radius: 20px; border: 1px solid rgba(251, 191, 36, 0.2);">
                <span style="font-size: 2rem;">üíé</span>
                <h3 style="color: #fbbf24; margin: 15px 0 10px 0;">Promises</h3>
                <p style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.5; margin: 0;">A reliable way to handle future values with three states: Pending, Resolved, or Rejected.</p>
            </div>

            <div style="background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), transparent); padding: 25px; border-radius: 20px; border: 1px solid rgba(16, 185, 129, 0.2);">
                <span style="font-size: 2rem;">‚ú®</span>
                <h3 style="color: var(--success); margin: 15px 0 10px 0;">Async/Await</h3>
                <p style="color: #cbd5e1; font-size: 0.9rem; line-height: 1.5; margin: 0;">The modern standard. It makes asynchronous code as easy to read as synchronous logic.</p>
            </div>

        </div>
    </div>

    <script>
        function switchPractical(opt) {
            const btnA = document.getElementById('btn-a');
            const btnB = document.getElementById('btn-b');
            const contA = document.getElementById('practi-a');
            const contB = document.getElementById('practi-b');

            if (opt === 'A') {
                btnA.style.background = 'var(--primary-pink)'; btnA.style.color = 'white';
                btnB.style.background = 'transparent'; btnB.style.color = '#94a3b8';
                contA.style.display = 'block'; contB.style.display = 'none';
            } else {
                btnB.style.background = 'var(--primary-pink)'; btnB.style.color = 'white';
                btnA.style.background = 'transparent'; btnA.style.color = '#94a3b8';
                contB.style.display = 'block'; contA.style.display = 'none';
            }
        }
    </script>

  <div class="content-panel" id="step6">
        <h2 style="text-align:center; color: var(--primary-pink); margin-top: 0;">Final Quiz</h2>
        <div id="quiz-wrap">
            <div class="question-card" data-ans="A">
                <p><strong>1. What happens during "Synchronous" execution if a task takes 5s?</strong></p>
                <button class="option-btn" onclick="sel(this, 'A')">A) The entire program stops and blocks.</button>
                <button class="option-btn" onclick="sel(this, 'B')">B) It runs in the background.</button>
            </div>
            <div class="question-card" data-ans="D">
                <p><strong>2. Which part of the JS engine checks if the Call Stack is empty?</strong></p>
                <button class="option-btn" onclick="sel(this, 'A')">A) The Web API</button>
                <button class="option-btn" onclick="sel(this, 'D')">D) The Event Loop</button>
            </div>
            <div class="question-card" data-ans="B">
                <p><strong>3. What is the initial state of a Promise?</strong></p>
                <button class="option-btn" onclick="sel(this, 'A')">A) Fulfilled</button>
                <button class="option-btn" onclick="sel(this, 'B')">B) Pending</button>
            </div>
            <div class="question-card" data-ans="C">
                <p><strong>4. Which keyword pauses an async function until a Promise is resolved?</strong></p>
                <button class="option-btn" onclick="sel(this, 'B')">B) then()</button>
                <button class="option-btn" onclick="sel(this, 'C')">C) await</button>
            </div>
            <div class="question-card" data-ans="B">
                <p><strong>5. Where do finished async tasks wait before entering the stack?</strong></p>
                <button class="option-btn" onclick="sel(this, 'A')">A) Web APIs</button>
                <button class="option-btn" onclick="sel(this, 'B')">B) Callback Queue</button>
            </div>
            <div class="question-card" data-ans="B">
                <p><strong>6. JavaScript is ______-threaded.</strong></p>
                <button class="option-btn" onclick="sel(this, 'A')">A) Multi</button>
                <button class="option-btn" onclick="sel(this, 'B')">B) Single</button>
            </div>
            <div class="question-card" data-ans="B">
                <p><strong>7. What is "Syntactic Sugar"?</strong></p>
                <button class="option-btn" onclick="sel(this, 'A')">A) A performance booster</button>
                <button class="option-btn" onclick="sel(this, 'B')">B) A cleaner way to write existing logic</button>
            </div>
            <div class="question-card" data-ans="C">
                <p><strong>8. Which block handles errors in async/await?</strong></p>
                <button class="option-btn" onclick="sel(this, 'B')">B) if/else</button>
                <button class="option-btn" onclick="sel(this, 'C')">C) try/catch</button>
            </div>
            <div class="question-card" data-ans="D">
                <p><strong>9. Asynchronous programming makes apps more _______?</strong></p>
                <button class="option-btn" onclick="sel(this, 'A')">A) Complex</button>
                <button class="option-btn" onclick="sel(this, 'D')">D) Responsive</button>
            </div>
        </div>
        <button class="submit-btn" onclick="check()">CHECK MY RESULTS</button>
        <div id="res" style="margin-top: 30px; text-align: center; font-size: 1.8rem; font-weight: 800;"></div>
    </div>

</div>

<script>
    // 1. MAIN NAVIGATION
    function showStep(n, el) {
        document.querySelectorAll('.step').forEach(s => s.classList.remove('active'));
        el.classList.add('active');
        document.querySelectorAll('.content-panel').forEach(p => p.classList.remove('active'));
        document.getElementById('step' + n).classList.add('active');
        window.scrollTo(0,0);
    }

    // 2. TOGGLE PROMISE CODE
    function toggleCode(id) {
        const el = document.getElementById(id);
        el.style.display = (el.style.display === 'none' || el.style.display === '') ? 'block' : 'none';
    }

    // 3. PRACTICAL SWITCH
    function switchPrac(opt) {
        const btnA = document.getElementById('btnA');
        const btnB = document.getElementById('btnB');
        const contA = document.getElementById('contA');
        const contB = document.getElementById('contB');
        if(opt === 'A') {
            btnA.style.background = 'var(--primary-pink)'; btnB.style.background = 'transparent'; btnB.style.color = '#94a3b8';
            contA.style.display = 'block'; contB.style.display = 'none';
        } else {
            btnB.style.background = 'var(--primary-pink)'; btnB.style.color = 'white'; btnA.style.background = 'transparent'; btnA.style.color = '#94a3b8';
            contB.style.display = 'block'; contA.style.display = 'none';
        }
    }

    // 4. QUIZ ENGINE
    function sel(btn, val) {
        const parent = btn.closest('.question-card');
        parent.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
        btn.classList.add('selected');
        parent.dataset.user = val;
    }

    function check() {
        let score = 0;
        const questions = document.querySelectorAll('.question-card');
        
        questions.forEach(q => {
            const correct = q.dataset.ans;
            const user = q.dataset.user;
            const buttons = q.querySelectorAll('.option-btn');

            buttons.forEach(btn => {
                const btnLetter = btn.textContent.trim().charAt(0);
                btn.style.borderColor = 'rgba(255,255,255,0.1)'; // Reset
                
                if (btnLetter === correct) {
                    btn.style.borderColor = 'var(--success)';
                    btn.style.background = 'rgba(16, 185, 129, 0.15)';
                    btn.style.color = 'var(--success)';
                }
                if (user === btnLetter && user !== correct) {
                    btn.style.borderColor = 'var(--error)';
                    btn.style.background = 'rgba(239, 68, 68, 0.15)';
                    btn.style.color = 'var(--error)';
                }
            });
            if (user === correct) score++;
        });

        const resDiv = document.getElementById('res');
        resDiv.textContent = `SCORE: ${score} / ${questions.length}`;
        resDiv.style.color = score === questions.length ? 'var(--success)' : 'var(--primary-pink)';
        resDiv.scrollIntoView({ behavior: 'smooth' });
    }
</script>

</body>
</html>